(()=>{"use strict";var e={402:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(81),o=n.n(s),a=n(645),i=n.n(a)()(o());i.push([e.id,"/* ---ОБНУЛЕНИЕ--- */\n* {\n   padding: 0;\n   margin: 0;\n   border: 0;\n}\n\n*,\n*:before,\n*:after {\n   -moz-box-sizing: border-box;\n   -webkit-box-sizing: border-box;\n   box-sizing: border-box;\n}\n\n:focus,\n:active {\n   outline: none;\n}\n\na:focus,\na:active {\n   outline: none;\n}\n\nnav,\nfooter,\nheader,\naside {\n   display: block;\n}\n\nhtml,\nbody {\n   height: 100%;\n   width: 100%;\n   font-style: 100%;\n   line-height: 1;\n   font-style: 14px;\n   -ms-text-size-adjust: 100%;\n   -moz-text-size-adjust: 100%;\n   -webkit-text-size-adjust: 100%;\n}\n\ninput,\nbutton,\ntextarea {\n   font-family: inherit;\n}\n\ninput::-ms-clear {\n   display: none;\n}\n\nbutton {\n   cursor: pointer;\n}\n\nbutton::-moz-focus-inner {\n   padding: 0;\n   border: 0;\n}\n\na,\na:visited {\n   text-decoration: none;\n}\n\na:hover {\n   text-decoration: none;\n}\n\nul li {\n   list-style-type: none;\n}\n\nimg {\n   vertical-align: top;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n   font-style: inherit;\n   font-weight: 400;\n   font-family: Yeseva One, serif;\n}\n\nbutton:hover {\n   box-shadow: 0 0 10px 0 #b1b1b1 inset, 0 0 20px 2px #b1b1b1;\n}\n\n/* ---BODY--- */\n\nbody {\n   font-family: nunito sans, Arial, Helvetica, sans-serif;\n   height: 600px;\n}\n\n\n\nbody {\n   background-color: rgb(221, 230, 199);\n}\n\n.game-window {\n   margin: 5% auto;\n   width: 1000px;\n   position: relative;\n}\n\n\n.hiscore-container {\n\n   display: flex;\n   width: 100%;\n   height: 100px;\n   background-color: rgb(132, 145, 145);\n   justify-content: space-evenly;\n   align-items: center;\n}\n\n.field-container {\n   width: 100%;\n   height: 500px;\n   background-color: antiquewhite;\n}\n\n.buttons-container {\n   display: flex;\n   width: 100%;\n   height: 100px;\n   background-color: rgb(132, 145, 145);\n   justify-content: space-evenly;\n   align-items: center;\n}\n\n.btn {\n   width: 30%;\n   height: 50%;\n   font-size: 150%;\n   border-radius: 5px;\n}\n\n.block {\n   display: flex;\n   justify-content: space-between;\n   padding: 0px 30px;\n   align-items: center;\n   width: 30%;\n   height: 50%;\n   background-color: beige;\n   border-radius: 5px;\n}\n\n.leg-block {\n   display: flex;\n   width: 60%;\n   height: 80%;\n   align-items: center;\n}\n\n.val-block {\n   display: flex;\n   width: 30%;\n   height: 80%;\n   align-items: center;\n}\n\n.hiscore {\n   font-size: 200%;\n}\n\n.legend {\n   font-size: 180%;\n   color: brown;\n}\n\n.field-container {\n   height: 520px;\n   padding: 10px 0px 10px 0px;\n   justify-content: center;\n\n\n}\n\n.game-field {\n   display: grid;\n   grid-template-columns: repeat(10, 50px);\n   grid-template-rows: repeat(10, 50px);\n   margin: 0 auto;\n}\n\n.field {\n   margin: 0 auto;\n   width: 500px;\n   height: 500px;\n   background-color: gray;\n}\n\n.empty-cell {\n   background-color: blueviolet;\n   border: 1px solid wheat;\n   width: 50px;\n   height: 50px;\n}\n\n.food {\n   background-color: rgb(29, 190, 53);\n}\n\n.snake-body {\n   background-color: blue;\n}\n\n.snake-head {\n   background-color: brown;\n}\n\n.bloody-cell {\n   background-color: rgb(72, 1, 1);\n\n}\n\n.game-over {\n\n   width: 700px;\n   height: 100px;\n   background-color: crimson;\n   position: absolute;\n   z-index: 100;\n   display: block;\n   margin-left: 15%;\n   margin-top: 20%;\n}\n\n.pause {\n\n   width: 700px;\n   height: 100px;\n   background-color: rgb(141, 219, 184);\n   position: absolute;\n   z-index: 100;\n   display: block;\n   margin-left: 15%;\n   margin-top: 20%;\n}\n\n#reset {\n\n   width: 40px;\n   height: 30px;\n   background-color: rgb(221, 230, 199);\n   border-radius: 10px;\n   font-size: 12px;\n\n}\n\n.over-legend {\n\n   font-size: 50px;\n   color: antiquewhite;\n   margin-top: 20px;\n   text-align: center;\n}\n\n.congrats {\n\n   font-size: 20px;\n   color: rgb(193, 191, 181);\n   margin-bottom: 20px;\n   text-align: center;\n}\n\n.invisible {\n   display: none;\n}",""]);const r=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(s)for(var r=0;r<this.length;r++){var d=this[r][0];null!=d&&(i[d]=!0)}for(var h=0;h<e.length;h++){var c=[].concat(e[h]);s&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var a={},i=[],r=0;r<e.length;r++){var d=e[r],h=s.base?d[0]+s.base:d[0],c=a[h]||0,l="".concat(h," ").concat(c);a[h]=c+1;var u=n(l),y={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)t[u].references++,t[u].updater(y);else{var p=o(y,s);s.byIndex=r,t.splice(r,0,{identifier:l,updater:p,references:1})}i.push(l)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=s(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var r=n(a[i]);t[r].references--}for(var d=s(e,o),h=0;h<a.length;h++){var c=n(a[h]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=d}}},569:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,o&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={id:s,exports:{}};return e[s](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),s=n(795),o=n.n(s),a=n(569),i=n.n(a),r=n(565),d=n.n(r),h=n(216),c=n.n(h),l=n(589),u=n.n(l),y=n(402),p={};p.styleTagTransform=u(),p.setAttributes=d(),p.insert=i().bind(null,"head"),p.domAPI=o(),p.insertStyleElement=c(),t()(y.Z,p),y.Z&&y.Z.locals&&y.Z.locals;const g=class{constructor(){this.snakeBody=[],this.headCoordinates=[],this.direction="right",this.gameOverMarker=!1,this.feedMarker=!1,this.foodDiv,this.length,this.snakeCreated=!1}createSnake(e,t){this.headCoordinates=[e,t],this.snakeBody=[document.querySelector(`div[data-x = '${this.headCoordinates[0]}'][data-y = '${this.headCoordinates[1]}']`),document.querySelector(`div[data-x = '${this.headCoordinates[0]-1}'][data-y = '${this.headCoordinates[1]}']`),document.querySelector(`div[data-x = '${this.headCoordinates[0]-2}'][data-y = '${this.headCoordinates[1]}']`)];for(let e=0;e<this.snakeBody.length;e++)this.snakeBody[e].classList.add("snake-body");return this.snakeBody[0].classList.add("snake-head"),this.snakeCreated=!0,[this.snakeBody,this.headCoordinates]}snakeMove(e,t){let n=this.headCoordinates[0],s=this.headCoordinates[1];this.feedMarker=!1;let o=0,a=0;switch(this.direction){case"right":for(this.snakeBody[0].classList.remove("snake-head"),this.snakeBody[this.snakeBody.length-1].classList.remove("snake-body"),this.snakeBody.pop(),this.headCoordinates[0]<e?this.snakeBody.unshift(document.querySelector(`div[data-x = '${this.headCoordinates[0]+1}'][data-y = '${this.headCoordinates[1]}']`)):(this.snakeBody.unshift(document.querySelector(`div[data-x = '1'][data-y = '${this.headCoordinates[1]}']`)),this.headCoordinates[0]=0),this.snakeBody[0].classList.add("snake-head"),o=0;o<this.snakeBody.length;o++)this.snakeBody[o].classList.add("snake-body");n=this.headCoordinates[0]+1,s=this.headCoordinates[1],this.headCoordinates=[n,s];break;case"up":for(this.snakeBody[0].classList.remove("snake-head"),this.snakeBody[this.snakeBody.length-1].classList.remove("snake-body"),this.snakeBody.pop(),this.headCoordinates[1]<t?this.snakeBody.unshift(document.querySelector(`div[data-x = '${this.headCoordinates[0]}'][data-y = '${this.headCoordinates[1]+1}']`)):(this.snakeBody.unshift(document.querySelector(`div[data-x = '${this.headCoordinates[0]}'][data-y = '1']`)),this.headCoordinates[1]=0),this.snakeBody[0].classList.add("snake-head"),o=0;o<this.snakeBody.length;o++)this.snakeBody[o].classList.add("snake-body");n=this.headCoordinates[0],s=this.headCoordinates[1]+1,this.headCoordinates=[n,s];break;case"left":for(this.snakeBody[0].classList.remove("snake-head"),this.snakeBody[this.snakeBody.length-1].classList.remove("snake-body"),this.snakeBody.pop(),this.headCoordinates[0]>1?this.snakeBody.unshift(document.querySelector(`div[data-x = '${this.headCoordinates[0]-1}'][data-y = '${this.headCoordinates[1]}']`)):(this.snakeBody.unshift(document.querySelector(`div[data-x = '${e}'][data-y = '${this.headCoordinates[1]}']`)),this.headCoordinates[0]=e+1),this.snakeBody[0].classList.add("snake-head"),o=0;o<this.snakeBody.length;o++)this.snakeBody[o].classList.add("snake-body");n=this.headCoordinates[0]-1,s=this.headCoordinates[1],this.headCoordinates=[n,s];break;case"down":for(this.snakeBody[0].classList.remove("snake-head"),this.snakeBody[this.snakeBody.length-1].classList.remove("snake-body"),this.snakeBody.pop(),this.headCoordinates[1]>1?this.snakeBody.unshift(document.querySelector(`div[data-x = '${this.headCoordinates[0]}'][data-y = '${this.headCoordinates[1]-1}']`)):(this.snakeBody.unshift(document.querySelector(`div[data-x = '${this.headCoordinates[0]}'][data-y = '${t}']`)),this.headCoordinates[1]=t+1),this.snakeBody[0].classList.add("snake-head"),o=0;o<this.snakeBody.length;o++)this.snakeBody[o].classList.add("snake-body");n=this.headCoordinates[0],s=this.headCoordinates[1]-1,this.headCoordinates=[n,s];break;case"stop":console.log("stoooop!!"),this.snakeStop()}this.foodDiv=document.querySelector(".food");let i=this.foodDiv.getAttribute("data-x"),r=this.foodDiv.getAttribute("data-y");for(this.length=this.snakeBody.length,n==i&&s==r&&(this.snakeFeed(),this.feedMarker=!0);a<this.length-1;)a++,n==this.snakeBody[a].getAttribute("data-x")&&s==this.snakeBody[a].getAttribute("data-y")&&(this.gameOverMarker=!0)}snakeFeed(){let e=this.snakeBody[this.length-1],t=e.getAttribute("data-x"),n=e.getAttribute("data-y");this.snakeBody.push(document.querySelector(`div[data-x = '${t}'][data-y = '${n}']`)),this.snakeBody[this.length-1].classList.add("snake-body"),this.foodDiv.classList.remove("food")}},m=class{constructor(){this.xFood,this.yFood,this.newFood}createFood(){for(this.xFood=Math.trunc(9*Math.random()+1),this.yFood=Math.trunc(9*Math.random()+1),this.newFood=document.querySelector(`[data-x="${this.xFood}"][data-y="${this.yFood}"]`),this.newFood.classList.add("food");this.newFood.classList.contains("snake-body");)this.newFood.classList.remove("food"),this.xFood=Math.trunc(9*Math.random()+1),this.yFood=Math.trunc(9*Math.random()+1),this.newFood=document.querySelector(`[data-x="${this.xFood}"][data-y="${this.yFood}"]`),this.newFood.classList.add("food")}};let k=new class{constructor(){}createField(e,t,n,s){let o=document.querySelector(".game-field");o.innerHTML="";let a=document.createElement("div"),i=n*s,r=e/n,d=t/s;o.style.cssText=`display:grid; grid-template-columns:repeat(${n}, ${r}px); grid-template-rows:repeat(${s}, ${d}px); margin: 0 auto;`,o.appendChild(a),a.classList.add("empty-cell"),a.setAttribute("data-x",1),a.setAttribute("data-y",s),a.style.width=r+"px",a.style.height=d+"px";for(let e=1;e<i;e++){let t=document.createElement("div");o.appendChild(t),t.classList.add("empty-cell"),t.setAttribute("data-x",e-Math.trunc(e/n)*n+1),t.setAttribute("data-y",s-Math.trunc(e/s)),t.style.width=r+"px",t.style.height=d+"px"}o.style.width=e+"px",o.style.height=t+"px"}},f=new class{constructor(){this.currentScore=0,this.bestScore=localStorage.getItem("bestScore"),this.congratsText}scorePlus(){this.currentScore++,document.getElementById("current-score").innerText=this.currentScore}scoreReset(){localStorage.clear(),this.bestScore=0,document.getElementById("best-score").innerText=0}currentScoreZero(){this.currentScore=0,document.getElementById("current-score").innerText=0}bestScoreRenew(){this.currentScore>this.bestScore&&(document.getElementById("best-score").innerText=this.currentScore,localStorage.setItem("bestScore",this.currentScore),this.congratsText=document.querySelector(".congrats"),this.congratsText.classList.remove("invisible"))}bestScoreGet(){this.bestScore=localStorage.getItem("bestScore"),this.bestScore?document.getElementById("best-score").innerText=this.bestScore:this.bestScore=0}},b=new class{constructor(e,t){this.snake=new g,this.food=new m,this.field=e,this.score=t,this.btnFlag=!0,this.cellsQtyX=10,this.cellsQtyY=10,this.congratsText}gameStartPause(){1==this.btnFlag&&0==this.snake.gameOverMarker&&1==this.snake.snakeCreated?(this.snakeGo(500),this.btnFlag=!1,this.pauseHideBanner()):0==this.btnFlag&&0==this.snake.gameOverMarker&&(this.snakeStop(),this.btnFlag=!0,this.pauseShowBanner())}gameControl(e){"ArrowRight"==e.key&&"left"!=this.snake.direction?this.snake.direction="right":"ArrowLeft"==e.key&&"right"!=this.snake.direction?this.snake.direction="left":"ArrowUp"==e.key&&"down"!=this.snake.direction?this.snake.direction="up":"ArrowDown"==e.key&&"up"!=this.snake.direction?this.snake.direction="down":"a"==e.key&&(this.snake.direction="stop")}gameRestart(){this.snake.gameOverMarker=!1,this.btnFlag=!0,this.snake.direction="right",this.field.createField(500,500,this.cellsQtyX,this.cellsQtyY),this.snake.createSnake(6,6),this.gameOverHideBanner(),this.pauseHideBanner(),this.snakeStop(),this.food.createFood(),this.score.bestScoreGet(),this.congratsText=document.querySelector(".congrats"),this.congratsText.classList.add("invisible"),this.score.currentScoreZero()}gameOverShowBanner(){this.gameOverBanner=document.querySelector(".game-over"),this.gameOverBanner.classList.remove("invisible")}gameOverHideBanner(){this.gameOverBanner=document.querySelector(".game-over"),this.gameOverBanner.classList.add("invisible")}pauseShowBanner(){this.gameOverBanner=document.querySelector(".pause"),this.gameOverBanner.classList.remove("invisible")}pauseHideBanner(){this.gameOverBanner=document.querySelector(".pause"),this.gameOverBanner.classList.add("invisible")}snakeGo(e){this.IntervalID=setInterval((()=>{this.snake.snakeMove(this.cellsQtyX,this.cellsQtyY),this.snake.gameOverMarker&&(this.snakeStop(),this.score.bestScoreRenew(),console.log("ГАМЕОВЕР"),this.gameOverShowBanner()),this.snake.feedMarker&&(this.food.createFood(),this.score.scorePlus())}),e)}snakeStop(){clearInterval(this.IntervalID)}}(k,f);k.createField(500,500,10,10),f.bestScoreGet(),document.addEventListener("keydown",(function(e){b.gameControl(e)})),document.getElementById("play").addEventListener("click",(()=>{b.gameStartPause()})),document.getElementById("newgame").addEventListener("click",(()=>{b.gameRestart()})),document.getElementById("reset").addEventListener("click",(()=>{f.scoreReset()})),document.querySelector(".game-field").addEventListener("click",(()=>{b.gameStartPause()}))})()})();